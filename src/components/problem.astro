---
const items = [
  { title: "?什么是游戏服务器?", content: "游戏服务器是指采用高频CPU硬件组装的服务" },
  { title: "?什么是游戏服务器?", content: "游戏服务器是指采用高频CPU硬件组装的服务" },
  { title: "?什么是游戏服务器?", content: "游戏服务器是指采用高频CPU硬件组装的服务" },
  { title: "?什么是游戏服务器?", content: "游戏服务器是指采用高频CPU硬件组装的服务" },
  { title: "?什么是游戏服务器?", content: "游戏服务器是指采用高频CPU硬件组装的服务" },
];
---

<div class="mx-auto max-w-7xl flex justify-between p-4 mt-6 ease-in-out motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade">
  <!-- 常见问题标题 -->
  <div class="text-xl xl:text-2xl 2xl:text-3xl">常见问题</div>
  <!-- 按钮容器 -->
  <div class="flex space-x-2">
  <!-- 提交工单按钮 -->
<div class="flex items-center justify-center text-xs px-4 leading-4 md:leading-8 border border-gray-300 rounded-md cursor-pointer">
  提交工单
</div>
  <!-- 文档中心按钮 -->
<div class="flex items-center justify-center text-xs px-4 leading-4 md:leading-8 bg-gradient-to-r from-blue-500 to-cyan-400 text-white rounded-md cursor-pointer">
  文档中心
</div>
  </div>
</div>
<div class="w-full mx-auto max-w-7xl border rounded-sm  mb-10 ease-in-out  motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade" style="border-color:#9d8b7f">
  {items.map((item, index) => (
    <div class="border-b border-gray-300 " style="border-color: #5c5554;">
      <!-- 标题部分 -->
      <button
        class="w-full text-left py-3 px-4 flex justify-between items-center bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 transition"
        data-index={index}
      >
        <span class="font-medium text-gray-900 dark:text-gray-100">{item.title}</span>
        <span class="arrow transition-transform duration-300">▼</span>
      </button>

      <!-- 折叠内容 -->
      <div class="content overflow-hidden max-h-0 transition-all duration-500 ease-in-out px-4">
        <p class="text-gray-700 dark:text-gray-300 py-2">{item.content}</p>
      </div>
    </div>
  ))}
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const buttons = document.querySelectorAll("button[data-index]");
  buttons.forEach((button) => {
    button.addEventListener("click", () => {
      const content = button.nextElementSibling;
      const isOpen = content?.classList.contains("max-h-40");

      // 关闭所有已展开的面板
      document.querySelectorAll(".content").forEach((el) => el.classList.remove("max-h-40"));
      document.querySelectorAll(".arrow").forEach((arrow) => arrow.classList.remove("rotate-180"));

      if (!isOpen) {
        content?.classList.add("max-h-40"); // 展开
        button.querySelector(".arrow")?.classList.add("rotate-180"); // 旋转箭头
      }
    });
  });
});
</script>
